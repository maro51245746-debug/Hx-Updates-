<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HX Cash Hunt - Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</title>

<link rel="stylesheet" href="style.css">

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<style>
body { font-family: Arial, sans-serif; background:#121212; color:#f1c40f; margin:0; padding:0; }
.top-nav { display:flex; gap:10px; margin:20px auto; justify-content:center; max-width:800px; }
.top-nav button { flex:1; padding:12px; font-weight:bold; border-radius:8px; border:none; cursor:pointer; }
.btn-store { background:#f39c12; color:black; }
.btn-history { background:#3498db; color:white; }
.btn-contact { background:#25d366; color:white; }
.modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); display:none; justify-content:center; align-items:center; z-index:2000; }
.modal-content { background:#34495e; padding:25px; border-radius:15px; width:85%; max-width:400px; text-align:center; border:2px solid #f1c40f; color:white; }
#login-screen { max-width:350px; margin:50px auto; text-align:center; }
#login-screen input { width:100%; padding:12px; margin:10px 0; border-radius:8px; border:1px solid #ccc; font-size:16px; }
#login-screen button { width:100%; padding:12px; margin-top:10px; font-weight:bold; border-radius:8px; border:none; cursor:pointer; background:#f1c40f; color:black; }
#login-logo { width:90px; height:90px; border-radius:50%; object-fit:cover; display:block; margin:0 auto 20px; }
footer { background:#222; color:#f1c40f; padding:10px 0; text-align:center; position:fixed; bottom:0; width:100%; font-size:14px; }
.youtube-video { margin:20px auto; max-width:560px; text-align:center; }
.youtube-video iframe { width:100%; height:315px; border:none; border-radius:10px; }
#youtube-description { margin-bottom:10px; background:#1e272e; color:#f1c40f; padding:10px; border-radius:5px; font-size:16px; }
.article-section { margin:20px auto; max-width:800px; background:#2c3e50; padding:20px; border-radius:10px; color:#f1c40f; font-size:16px; }
.game-area { margin:20px auto; text-align:center; }
#monster-container img { border-radius:10px; }
#timer-box { margin:10px 0; font-weight:bold; color:#f1c40f; }
.ad-banner { text-align:center; padding:15px; background:#1e272e; margin-bottom:15px; border-radius:8px; }
</style>
</head>

<body>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù‡Ø¬ÙˆÙ… -->
<div id="reward-ad" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:25px; border-radius:12px; text-align:center; width:80%; max-width:350px;">
    <h3>Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙˆÙ„</h3>
    <p>Ø§Ø³ØªÙ†Ù‰ <span id="reward-timer">30</span> Ø«Ø§Ù†ÙŠØ©</p>
    <p style="font-size:14px; color:#555;">Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚</p>
    <div id="real-ad-container" style="margin-top:15px;"></div>
  </div>
</div>

<!-- Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
<div id="terms-modal" class="modal">
  <div class="modal-content">
    <h3>Ø´Ø±ÙˆØ· Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
    <p>Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªÙ‚Ø¯Ø± ØªØºÙ„Ù‚ Ø­Ø³Ø§Ø¨Ùƒ Ø£Ùˆ ØªØ®ØµÙ… Ù†Ù‚Ø§Ø·Ùƒ Ø¨Ø¯ÙˆÙ† Ø¥Ø´Ø¹Ø§Ø±. Ø§Ù„Ù†Ù‚Ø§Ø· ØªÙØ­Ø³Ø¨ Ù…Ù† Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© + Ø¨ÙŠØ¹ Ø³Ù„Ø¹ Ø§Ù„Ù…ØªØ¬Ø±. Ø£ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© ØºØ´ ØªÙØ®ØµÙ… ÙƒÙ„ Ø§Ù„Ù†Ù‚Ø§Ø·.</p>
    <button onclick="acceptTerms()" style="background:#27ae60; color:white; padding:10px; border:none; border-radius:5px;">Ø£ÙˆØ§ÙÙ‚</button>
  </div>
</div>

<!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login-screen">
  <h2>HX CASH HUNT</h2>
  <img id="login-logo" src="https://files.catbox.moe/fghvtu.jpg" alt="Logo">
  <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
  <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  <p id="login-error" style="color:#ff4757; margin-top:10px;"></p>
</div>

<!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="game-interface" style="display:none;">
  <div class="ad-banner">Ø¥Ø¹Ù„Ø§Ù† Ø«Ø§Ø¨Øª - Ad Space</div>

  <div class="top-nav">
    <button class="btn-store" onclick="window.open('https://whatsapp.com/channel/0029Vb79dlt5fM5XhgkZ8N1V','_blank')">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</button>
    <button class="btn-history" onclick="window.location.href='user-archive.html'">ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
    <button class="btn-contact" onclick="openContactTop()">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
  </div>

  <div class="user-stats">
    <p>Ø§Ù„Ù„Ø§Ø¹Ø¨: <span id="display-name">...</span></p>
    <p>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="level">1</span></p>
    <p>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="points">0</span></p>
  </div>

  <div class="game-area">
  <div id="monster-container">
    <img src="https://files.catbox.moe/d7dxwb.png" id="monster-img">
    <div id="timer-box">Ø§Ù„ÙˆÙ‚Øª: <span id="timer">0</span> Ø«Ø§Ù†ÙŠØ©</div>
    
    <!-- Ø²Ø± Ø§Ù„Ù‡Ø¬ÙˆÙ… -->
    <!-- <button id="attack-btn" onclick="startAttack()">Ø¹Ø´Ø± Ù†Ù‚Ø§Ø· ÙÙŠ 30 Ø«Ø§Ù†ÙŠÙ‡</button> -->
    
    <!-- Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø²Ø±ÙŠÙ† -->
    <div style="height:15px;"></div>
    
    <!-- Ø²Ø± Ù†Ù‚Ø§Ø· Ù…Ø¬Ø§Ù†ÙŠØ© -->
    <button id="free-points-btn" onclick="getFreePoints()">Ø¨Ø¯Ø§ Ø§Ù„Ù‡Ø¬ÙˆÙ… ğŸ—¡</button>
  </div>
</div>

  <div class="article-section">
    <h3>Ù…Ø§Ø°Ø§ ÙŠÙØ¹Ù„ Ù…ÙˆÙ‚Ø¹Ù†Ø§</h3>
    <p>Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù‡Ø¬ÙˆÙ…" Ø³ÙŠØ¸Ù‡Ø± Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙˆÙ„. Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯ØªÙ‡ ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±ØŒ Ø´Ø±Ø§Ø¡ Ù…Ù…ÙŠØ²Ø§ØªØŒ Ø£Ùˆ ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ù„ÙƒØ§Ø´ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
  </div>

  <div id="youtube-description">
    Ø§Ø­Ø¯Ø« Ø¨ÙˆØª ÙƒØ±Ø§Ø´ Ù…Ù…ÙƒÙ† ØªØ´ØªØ±ÙŠ Ù…Ù† Ù…ÙˆÙ‚Ø¹Ù†Ø§ ğŸ“›ğŸ‘‡ğŸ»ğŸ“›
  </div>

  <div class="youtube-video">
    <iframe src="https://www.youtube.com/embed/u06pVnjyMTo" allowfullscreen></iframe>
  </div>
</div>

<footer>Â© HX Cash Hunt Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>

<script>
// ====== Ø¥Ø¹Ø¯Ø§Ø¯ Firebase ======
const firebaseConfig = {
  apiKey: "AIzaSyAW9IQZZXks-09bSfAffXVxrgejYfw0O74",
  authDomain: "hx-cash-hunt.firebaseapp.com",
  databaseURL: "https://hx-cash-hunt-default-rtdb.firebaseio.com/",
  projectId: "hx-cash-hunt",
  storageBucket: "hx-cash-hunt.appspot.com",
  messagingSenderId: "829449009252",
  appId: "1:829449009252:web:b0e4a03f170bb61d7a4771"
};
if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const auth = firebase.auth();
auth.setPersistence(firebase.auth.Auth.Persistence.SESSION);

// ====== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ======
let currentUser = null;
let userData = {};
const REWARD = 10;
const COOLDOWN = 60000;
const AD_TIME = 30;

// ====== Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Auth ======
auth.onAuthStateChanged(user => {
  if(!user) return showLogin();
  db.ref("users/" + user.uid).once("value").then(snap => {
    if(!snap.exists()) { auth.signOut(); showLogin(); return; }
    currentUser = user;
    userData = snap.val();
    showGame();
    updateUI();
  });
});

function showLogin() {
  document.getElementById("login-screen").style.display = "block";
  document.getElementById("game-interface").style.display = "none";
}
function showGame() {
  document.getElementById("login-screen").style.display = "none";
  document.getElementById("game-interface").style.display = "block";
}
function updateUI() {
  document.getElementById("display-name").innerText = userData.name || "Ù„Ø§Ø¹Ø¨";
  document.getElementById("points").innerText = userData.points || 0;
  document.getElementById("level").innerText = userData.level || 1;
}

// ====== Ø¥Ø¹Ù„Ø§Ù† al5sm ======
function loadRealAd() {
  const container = document.getElementById("real-ad-container");
  if(!container) return;
  container.innerHTML = "";
  const s = document.createElement("script");
  s.dataset.zone = "10450260";
  s.src = "https://al5sm.com/tag.min.js";
  s.async = true;
  container.appendChild(s);
}

// ====== Ø²Ø± Ø§Ù„Ù‡Ø¬ÙˆÙ… ======
window.startAttack = function() {
  if(!currentUser) return;
  const uid = currentUser.uid;
  const now = Date.now();
  db.ref("lastAttack/" + uid).once("value").then(snap => {
    if(snap.exists() && now - snap.val() < COOLDOWN) { alert("Ø§Ø³ØªÙ†Ù‰ Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬ÙˆÙ… ØªØ§Ù†ÙŠ"); return; }
    db.ref("lastAttack/" + uid).set(now);
    startRewardAd();
  });
};

function startRewardAd() {
  const ad = document.getElementById("reward-ad");
  const timerEl = document.getElementById("reward-timer");
  let timeLeft = AD_TIME;
  ad.style.display = "flex";
  timerEl.innerText = timeLeft;
  loadRealAd();
  const interval = setInterval(() => {
    timeLeft--;
    timerEl.innerText = timeLeft;
    if(timeLeft <=0) { clearInterval(interval); ad.style.display = "none"; giveReward(); }
  }, 1000);
}

function giveReward() {
  const newPoints = (userData.points || 0) + REWARD;
  db.ref("users/" + currentUser.uid).update({ points:newPoints }).then(()=>{ 
    userData.points=newPoints; updateUI(); 
  });
}

// ====== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ======
window.login = function() {
  const email = document.getElementById("email").value.trim();
  const pass = document.getElementById("password").value.trim();
  const loginError = document.getElementById("login-error");
  if(!email||!pass){ loginError.innerText="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯"; return; }
  auth.signInWithEmailAndPassword(email, pass)
  .catch(()=>loginError.innerText="Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
};

// ====== Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ======
function acceptTerms(){ document.getElementById("terms-modal").style.display="none"; }
function openContactTop(){ window.open('http://t.me/hx_shopping_bot', '_blank'); }

// ====== Ù†Ù‚Ø§Ø· Ù…Ø¬Ø§Ù†ÙŠØ© ======
const FREE_POINTS = 10;        // Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø·
const FREE_COOLDOWN = 10000;   // 20 Ø«Ø§Ù†ÙŠØ©

window.getFreePoints = function() {
  if(!currentUser) return alert("Ø§Ø¹Ù…Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");

  const uid = currentUser.uid;
  const now = Date.now();

  db.ref("lastFreeReward/" + uid).once("value").then(snap => {
    if(snap.exists() && now - snap.val() < FREE_COOLDOWN) {
      const remaining = Math.ceil((FREE_COOLDOWN - (now - snap.val())) / 1000);
      return alert(`Ø§Ø³ØªÙ†Ù‰ ${remaining} Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ù…Ø§ ØªØ§Ø®Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø· ØªØ§Ù†ÙŠ`);
    }

    // Ø¶ÙŠÙ Ø§Ù„Ù†Ù‚Ø§Ø·
    const newPoints = (userData.points || 0) + FREE_POINTS;
    db.ref("users/" + uid).update({ points: newPoints }).then(() => {
      userData.points = newPoints;
      updateUI();
      alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${FREE_POINTS} Ù†Ù‚Ø§Ø· Ù„Ø­Ø³Ø§Ø¨Ùƒ! ğŸ‰`);
    });

    // Ø³Ø¬Ù„ Ø§Ù„ÙˆÙ‚Øª
    db.ref("lastFreeReward/" + uid).set(now);

    // Ø§ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
    window.open("https://otieu.com/4/10460304", "_blank");
  });
};
</script>

<script src="https://3nbf4.com/act/files/tag.min.js?z=10460377" data-cfasync="false" async></script>
<script>(function(s){s.dataset.zone='10460378',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
<script>(function(s){s.dataset.zone='10460383',s.src='https://al5sm.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
<script src="https://quge5.com/88/tag.min.js" data-zone="201808" async data-cfasync="false"></script>

</body>
</html>